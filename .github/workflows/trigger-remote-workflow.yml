name: trigger-remote-workflow
on:
  workflow_dispatch:
    inputs:
      repo: 
        description: 'some repo in your project'
        required: true
      ref:
        description: 'some hash, tag, or ref in your repo'
        required: true

jobs:
  remote-job:
    runs-on: ubuntu-latest
    steps:
      - run: |
        curl \
         -X POST \
         -H "Accept: application/vnd.github.v3+json" \
         https://api.github.com/repos/hippyod/cicd-infra/actions/workflows/remote-workflow.yml/dispatches \
         -d '{"ref":"master", inputs: {"repo": "${{ env.GITHUB_REPOSITORY }}", "ref": "${{ env.GITHUB_REF }}"}}'

